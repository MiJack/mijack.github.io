<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="袁宇杰（Mi&amp;Jack）在 Github 上的个人博客">
    <meta name="keyword" content="null">
    <meta name="theme-color" content="#600090">
    <meta name="msapplication-navbutton-color" content="#600090">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#600090">
    <link rel="shortcut icon" href="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-person-128.png">
    <link rel="alternate" type="application/atom+xml" title="江湖迈杰的博客" href="/atom.xml">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.css">
    <title>
        
        Android上的网络响应日志技巧｜Mi&amp;Jack&#39;s blog
        
    </title>

    <link rel="canonical" href="http://mijack.github.io/2016/05/03/Effortless-network-response-logging-on-Android/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/blog-style.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">
</head>

<style>

    header.intro-header {
        background-image: url('http://ohy7r8bgu.bkt.clouddn.com/background.jpg#博文默认的图片')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top " id="nav-top" data-ispost = "true" data-istags="false
" data-ishome = "false" >
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand animated pulse" href="/">
                <span class="brand-logo">
                    江湖迈杰的博客
                </span>
                's Blog
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <!-- /.navbar-collapse -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
					
                    
                        
                    
                        
							
                        <li>
                            <a href="/Tags/">Tags</a>
                        </li>
							
						
                    
					
					
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
//    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>

<!-- Main Content -->

<!--only post-->


<img class="wechat-title-img"
     src="http://ohy7r8bgu.bkt.clouddn.com/background.jpg#博文默认的图片">


<style>
    
    header.intro-header {
        background-image: url('http://ohy7r8bgu.bkt.clouddn.com/background.jpg#博文默认的图片')
    }

    
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1>Android上的网络响应日志技巧</h1>
                    
                    <span class="meta">
                         作者 Mi&Jack
                        <span>
                          日期 2016-05-03
                         </span>
                    </span>
                    <div class="tags text-center">
                        
                        <a class="tag" href="/tags/#Android"
                           title="Android">Android</a>
                        
                        <a class="tag" href="/tags/#Network"
                           title="Network">Network</a>
                        
                        <a class="tag" href="/tags/#Log"
                           title="Log">Log</a>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="post-title-haojen">
        <span>
            Android上的网络响应日志技巧
        </span>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-1 col-sm-9 post-container">
                <p>在开发Android应用程序的过程中，你或许需要从远处服务器中加载数据。而在开发过程中，你可能要经常查看应用从网络中获取到的数据的内容。</p>
<p>如果你最近几年在开发Android应用，或许你使用过（或者听说过）<a href="https://github.com/square/retrofit" target="_blank" rel="external">Retrofit</a>来处理网络请求。如果没有，我建议你了解一下，因为他实在太棒了。</p>
<p>所以，使用Retrofit时，在监听网络请求方面，你有哪些选择呢？</p>
<h2 id="retrofit-okhttp的logging"><a href="#Retrofit-OkHttp的logging" class="headerlink" title="Retrofit / OkHttp的logging"></a>Retrofit / OkHttp的logging</h2><p>Retrofit 和 OkHttp 有一些内置的记录HTTP响应的方法。使用这些功能的方法取决于你使用的Retrofit的具体版本。</p>
<h2 id="retrofit-1x"><a href="#Retrofit-1-x" class="headerlink" title="Retrofit 1.x"></a><code>Retrofit 1.x</code></h2><p>如果你使用的是比较老的Retrofit 1.x版本。在创建RestAdapter时，你可以通过在RestAdapter.Buidler中设置LogLevel的属性直接开启响应日志这一功能。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line">LogLevel logLevel = LogLevel.FULL;</div><div class="line"><span class="keyword">new</span> RestAdapter.Builder()</div><div class="line">        .setClient(client)</div><div class="line">        .setEndpoint(endpoint)</div><div class="line">        .setConverter(converter)</div><div class="line">        .setErrorHandler(errorHandler)</div><div class="line">        .setLogLevel(logLevel)</div><div class="line">        .build();</div></pre></td></tr></table></figure>
<p>LegLevel是一个表示日志细节的枚举类型，值有NONE, BASIC, HEADERS, HEADERS_AND_ARGS 和 FULL。你可以根据需要打印的每一个网络请求的内容设置对应的值。</p>
<h2 id="retrofit-2x"><a href="#Retrofit-2-x" class="headerlink" title="Retrofit 2.x"></a><code>Retrofit 2.x</code></h2><p><a href="https://twitter.com/JakeWharton/status/708401516063891456" target="_blank" rel="external">Retrofit 2.0的稳定版</a>在16年三月上旬已经发布，变化很大。如果你还没有升级它,我建议你​​升级吧：</p>
<blockquote>
<p><a href="https://medium.com/p/ab7a11bc17df" target="_blank" rel="external">Retrofit 2.0与RxJava混合使用的快速入门</a><br>您可能已经注意到Retrofit 2.0最终版本已经出来了，所以，还等什么，现在去升级吧！</p>
</blockquote>
<p>你升级以后，会发现Retrofit发生了很多变化。比如，你无法直接通过类Retrofit.Builder设置Log Level.</p>
<p>Retrofit 2.x直接依赖于Square的另一个库（OkHttp3）进行HTTP的实际网络调用。与此不同的是，Retrofit 以前的版本(1.x)并没有直接依赖于OkHttp，因而你可以使用不同的HTTP客户端，只要它们实施了Retrofit的客户端接口。</p>
<p>因此，<strong>日志功能已经从Retrofit更改到OkHttp中去了</strong>。</p>
<p>现在，您可以调用OkHttp的拦截器 [HttpLoggingInterceptor]（<a href="https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor）实现和Retrofit" target="_blank" rel="external">https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor）实现和Retrofit</a> 1.x一样的日志功能。</p>
<p>如果要使用它，您必须先在Gradle中声明，因为它以独立的形式进行分发：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">compile &apos;com.squareup.okhttp3:logging-interceptor:&lt;latest&gt;&apos;</div></pre></td></tr></table></figure>
<p>然后将日志记录拦截器添加到OkHttp中：<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Level logLevel = Level.BODY;</div><div class="line">HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();</div><div class="line">interceptor.setLevel(logLevel);</div><div class="line">new OkHttpClient.Builder()</div><div class="line">        .addInterceptor(interceptor)</div><div class="line">        .build();</div></pre></td></tr></table></figure></p>
<p>##’日志的输出效果是什么样子？`</p>
<p>网络响应的body以纯文本的形式出现在Logcat中。日志通常被分隔成了若干行，往往难以阅读：<br><img src="https://cdn-images-1.medium.com/max/800/1*OXQRErwU5UW-2IiiK56U8Q.png" alt=""><br><code>Retrofit 1.x / HttpLoggingInterceptor logcat output</code></p>
<p>通常,你需要拷贝整行的响应，然后再取出开头的时间戳，包名称以及标记。如果你遇到的JSON响应，您可以使用像[JsonFormatter]（<a href="https://jsonformatter.curiousconcept.com/）或[在线JSON查看器（http://jsonviewer.stack.hu/），提高复制的文本可读性。" target="_blank" rel="external">https://jsonformatter.curiousconcept.com/）或[在线JSON查看器（http://jsonviewer.stack.hu/），提高复制的文本可读性。</a></p>
<blockquote>
<p>对于我来说，每次检查网络请求的过程都十分繁琐、耗时。这就是我决定创建自己的拦截器的原因——这可以简化流程。</p>
</blockquote>
<h2 id="oklog-检查响应的快捷之道"><a href="#OkLog-检查响应的快捷之道" class="headerlink" title="OkLog - 检查响应的快捷之道"></a>OkLog - 检查响应的快捷之道</h2><p>[OkLog]（<a href="https://github.com/simonpercic/OkLog）是针对OkHttp" target="_blank" rel="external">https://github.com/simonpercic/OkLog）是针对OkHttp</a> 网络响应的日志记录拦截器，可以在开发过程中简化了网络响应的调试。</p>
<p>OKLog有两个独立的库，取决于OkHttp的版本：OkLog对应于OkHttp，OkLog3对应于OkHttp3。</p>
<p>OkLog写了一个可访问的URL，可将网络响应作为URL路径的一部分进行日志记录。</p>
<p>这样一来，您就可以点击Android Studio中的日志显示一个链接，你在浏览器中查看这个响应对应文本：</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*o7CdnntHqZ0zqHYXOBKNfQ.gif" alt=""><br>OkLog 使用示例</p>
<p>另一个好处是能够与其他开发者（通常是REST API的开发人员）分享这些URL。</p>
<h2 id="它是如何运作的"><a href="#它是如何运作的？" class="headerlink" title="它是如何运作的？"></a>它是如何运作的？</h2><p>OkLog通过实现自己的[“应用程序”interceptor]（<a href="https://github.com/square/okhttp/wiki/Interceptors）截获OkHttp的纯网络响应。" target="_blank" rel="external">https://github.com/square/okhttp/wiki/Interceptors）截获OkHttp的纯网络响应。</a></p>
<p>在得到响应的纯文本之后，将它转换对url友好的字符串，生成包含响应的URL。</p>
<p>然后，该URL作为日志打印出来。OkLog可以选择依赖于Timber，只有你的项目依赖于它时，它才发挥作用。否则，它将调用Android内置的Log方法进行日志记录（当然，你也可以强制它使用内置Log方法）。如果你愿意的话，甚至可以定制<a href="https://github.com/simonpercic/OkLog/blob/master/core/src/main/java/com/github/simonpercic/oklog/core/LogInterceptor.java" target="_blank" rel="external">LogInterceptor</a>自定义日志记录。</p>
<p><strong>那么，究竟响应需要如何转化呢？</strong></p>
<p>纯文本响应首先要经过[gzip压缩]（<a href="https://en.wikipedia.org/wiki/Gzip），以使该字符串尽可能短。然后，将所得的字符串进行[Base64]（https://en.wikipedia.org/wiki/Base64）编码，从而可以" target="_blank" rel="external">https://en.wikipedia.org/wiki/Gzip），以使该字符串尽可能短。然后，将所得的字符串进行[Base64]（https://en.wikipedia.org/wiki/Base64）编码，从而可以</a> 以使其网址友好。</p>
<p>#点击URL时会发生什么？</p>
<p>默认情况下，生成的URL指向一个Spring Web应用程序的托管实例，称为[ResponseEcho]（<a href="https://github.com/simonpercic/ResponseEcho）。该应用程序的工作，刚好和OKLog相反，对URL路径字符串参数进行Base64解码和对参数进行gzip解压，并将其作为一个普通的响应返回。" target="_blank" rel="external">https://github.com/simonpercic/ResponseEcho）。该应用程序的工作，刚好和OKLog相反，对URL路径字符串参数进行Base64解码和对参数进行gzip解压，并将其作为一个普通的响应返回。</a></p>
<p>如果普通的响应恰好是一个JSON，Web应用程序应该返回格式规整的JSON，这样更容易阅读。</p>
<p>如果你愿意，你也可以自己搭建web应用程序，并设置OkLog匹配主机名网站的前缀。</p>
<h2 id="如何使用它"><a href="#如何使用它？" class="headerlink" title="如何使用它？"></a>如何使用它？</h2><p>关于使用的具体流程请查看Github上的<a href="https://github.com/simonpercic/OkLog#usage" target="_blank" rel="external">Readme</a>，基本步骤如下：</p>
<ul>
<li><p>首先添加当前的OKLog的版本.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// pre-OkHttp3</div><div class="line">compile &apos;com.github.simonpercic:oklog:&lt;latest&gt;&apos;</div><div class="line">// OkHttp3</div><div class="line">compile &apos;com.github.simonpercic:oklog3:&lt;latest&gt;&apos;</div></pre></td></tr></table></figure>
</li>
<li><p>使用 OkLogInterceptor的builder()方法构造一个实例</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">OkLogInterceptor interceptor = OkLogInterceptor.builder()</div><div class="line">        // set desired custom options</div><div class="line">        .build();</div></pre></td></tr></table></figure>
</li>
<li><p>在OKHttp的 interceptors中添加一个 okLogInterceptor实例</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// for pre-OkHttp3</div><div class="line">List&lt;Interceptor&gt; clientInterceptors = okHttpClient.interceptors();</div><div class="line">Collections.addAll(clientInterceptors, okLogInterceptor);</div><div class="line">// for OkHttp3</div><div class="line">new OkHttpClient.Builder().addInterceptor(okLogInterceptor).build();</div></pre></td></tr></table></figure>
</li>
<li><p>通常，你可以通过 okHttpClient 实例来构造 Retrofit/2 实例。</p>
</li>
</ul>
<h2 id="已知的限制"><a href="#已知的限制" class="headerlink" title="已知的限制"></a>已知的限制</h2><p>OKLog是通过Android的Logging系统实现日志功能的，但Logging有<a href="http://stackoverflow.com/a/8899735" target="_blank" rel="external">约4000字符的长度限制</a>。</p>
<p>即使生成的url通过gzip压缩和Base64编码，最后在一些网络响应中，他们仍可能 <strong>超出日志的行限制</strong>。</p>
<p>不幸的是，目前还没有针对性的解决方案。不过，大多数情况下，一切都是正常的。</p>
<p>在升级的实际记录过程中，OkLog可以选择[Timber]（<a href="https://github.com/JakeWharton/timber），Timber可以对一些过长的日志进行切片分割，所以你还可以看到那些超过长度限制的响应。如果，它被分割成若干行，你可以把它们链接起来从而得到完整的url。" target="_blank" rel="external">https://github.com/JakeWharton/timber），Timber可以对一些过长的日志进行切片分割，所以你还可以看到那些超过长度限制的响应。如果，它被分割成若干行，你可以把它们链接起来从而得到完整的url。</a></p>
<p>这样会将太长线，所以你可以看到，如果一个反应是超过长度限制。如果它被分成多行，可以手动串接所有行，以获得有效的URL。</p>
<h2 id="另一种实现方式-facebook的stetho"><a href="#另一种实现方式-Facebook的Stetho" class="headerlink" title="另一种实现方式 - Facebook的Stetho"></a>另一种实现方式 - Facebook的Stetho</h2><p>和上述方案不同的是，<a href="http://facebook.github.io/stetho/" target="_blank" rel="external">Facebook’s Stetho</a> 使用的是另一种方案来记录网络请求。</p>
<p>不同于直接在logcat中直接打印请求，Stetho 的运行依赖于OkHttp/3的网络连接器 interceptor。</p>
<p>在这种方式下，Stetho通过Chrome Developer Tools调试网络请求。</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*vs-fNOCQ7DzQMpoyekxWZA.png" alt="Chrome Developer Tools through Stetho"></p>
<p>Chrome Developer Tools是一个十分棒的工具，他可以让你看见和网络活动相关的诸多信息。</p>
<p>但是，如果你只是希望可以快速的查看网络请求，他可能不适合你。除此以外,你无法快捷地和别人共享这些信息，除非你复制这些信息，</p>
<h2 id="你应该选择哪一个呢"><a href="#你应该选择哪一个呢？" class="headerlink" title="你应该选择哪一个呢？"></a>你应该选择哪一个呢？</h2><p>我觉得并没有一个放之四海而皆准的标准，相反，我相信，不同的场景有着不同的解决方案，上述的每一种方案都有对应的最佳应用场景。</p>
<p>在我的项目中，我使用OKHttp的 HttpLoggingInterceptor，它可以在logcat中直接输出和请求相关的基本信息。同时，我也使用OKLog，他可以让我在浏览器中快速查看对应的网络请求，也可以和我的同事共享这些信息。</p>
<p>注意,你只能在你的debug版本中，<a href="http://developer.android.com/tools/publishing/preparing.html#publishing-configure" target="_blank" rel="external">不要在release版本中</a>，打印网络响应。<a href="https://github.com/JakeWharton/timber/blame/a6b2e220a33da939da181de37a5cd68be843f63a/README.md#L16-L17" target="_blank" rel="external">在release版本中，你不应该输出任何日志</a>。</p>
<p>这篇文章有趣不？记得在<a href="https://medium.com/@simonpercic" target="_blank" rel="external">Medium</a>, <a href="https://twitter.com/simonpercic" target="_blank" rel="external">Twitter</a> 或 <a href="https://github.com/simonpercic" target="_blank" rel="external">GitHub</a>关注我哦。</p>

                <hr>
                

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2016/11/14/小试RxJava原理/" data-toggle="tooltip" data-placement="top"
                           title="小试RxJava原理">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2016/03/26/Layouts-Attributes-and-you/" data-toggle="tooltip" data-placement="top"
                           title="Layouts, Attributes, and you">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                

                

            </div>

            <div class="hidden-xs col-sm-3 toc-col">
                <div class="toc-wrap">
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#retrofit-okhttp的logging"><span class="toc-text">Retrofit / OkHttp的logging</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#retrofit-1x"><span class="toc-text">Retrofit 1.x</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#retrofit-2x"><span class="toc-text">Retrofit 2.x</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#oklog-检查响应的快捷之道"><span class="toc-text">OkLog - 检查响应的快捷之道</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#它是如何运作的"><span class="toc-text">它是如何运作的？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何使用它"><span class="toc-text">如何使用它？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#已知的限制"><span class="toc-text">已知的限制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#另一种实现方式-facebook的stetho"><span class="toc-text">另一种实现方式 - Facebook的Stetho</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#你应该选择哪一个呢"><span class="toc-text">你应该选择哪一个呢？</span></a></li></ol>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5 class="text-center">
                        <a href="/tags/">FEATURED TAGS</a>
                    </h5>
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#Android"
                           title="Android">Android</a>
                        
                        <a class="tag" href="/tags/#Network"
                           title="Network">Network</a>
                        
                        <a class="tag" href="/tags/#Log"
                           title="Log">Log</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <div style="margin-top: 20px;">
                    <h5 class="text-center">FRIENDS</h5>
                    <ul class="list-inline text-center">
                        
                        <li><a href="http://chih.me">chih</a></li>
                        
                        <li><a href="https://buwenqi.github.io">wenqi</a></li>
                        
                    </ul>
                </div>
                
            </div>
        </div>

    </div>
</article>






<!-- Footer -->
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <br>
                <ul class="list-inline text-center">
                
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/mijackstudio">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="http://weibo.com/mijackstudio">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/mijack">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; 江湖迈杰的博客 2018
                    <br>
                    <span id="busuanzi_container_site_pv" style="font-size: 12px;">PV: <span id="busuanzi_value_site_pv"></span> Times</span>
                    <br>
                    Theme by <a href="https://haojen.github.io/">Haojen Ma</a>
                </p>

            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/blog.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://mijack.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>

<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-75651210- 1';
    var _gaDomain = 'auto';
    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>


<!-- Baidu Tongji -->


<!-- swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','null','2.0.0');
</script>

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--wechat title img-->
<img class="wechat-title-img" src="https://avatars.githubusercontent.com/u/4158061?v=3">
</body>

</html>
